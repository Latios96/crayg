// clang-format off
#define CRAYG_CHECK_NOT_NULLPTR_IMPL(ptr) CRAYG_CHECK_OR_THROW(ptr != nullptr, fmt::format("{} should not be nullptr!", #ptr))
#define CRAYG_CHECK_NOT_NULLPTR_IMPL_F(ptr, formatStr, ...) CRAYG_CHECK_OR_THROW(ptr != nullptr, fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("ptr", ptr), fmt::arg("ptrStringified", #ptr)))
#define CRAYG_CHECK_IS_VALID_INDEX_IMPL(index, size) CRAYG_CHECK_OR_THROW((index >= 0 && index < size), fmt::format("Index {} is out of range: {}, size is {}!",#index, index, size))
#define CRAYG_CHECK_IS_VALID_INDEX_IMPL_F(index, size, formatStr, ...) CRAYG_CHECK_OR_THROW((index >= 0 && index < size), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("index", index), fmt::arg("indexStringified", #index), fmt::arg("size", size), fmt::arg("sizeStringified", #size)))
#define CRAYG_CHECK_EQUALS_IMPL(actual, expected) CRAYG_CHECK_OR_THROW(actual == expected, fmt::format("Expected {} to be {}, was {}!", #actual, expected, actual))
#define CRAYG_CHECK_EQUALS_IMPL_F(actual, expected, formatStr, ...) CRAYG_CHECK_OR_THROW(actual == expected, fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual", actual), fmt::arg("actualStringified", #actual), fmt::arg("expected", expected), fmt::arg("expectedStringified", #expected)))
#define CRAYG_CHECK_NOT_EQUALS_IMPL(actual, notExpected) CRAYG_CHECK_OR_THROW(actual != notExpected, fmt::format("Expected {} not to be {}, was {}!", #actual, notExpected, actual))
#define CRAYG_CHECK_NOT_EQUALS_IMPL_F(actual, notExpected, formatStr, ...) CRAYG_CHECK_OR_THROW(actual != notExpected, fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual", actual), fmt::arg("actualStringified", #actual), fmt::arg("notExpected", notExpected), fmt::arg("notExpectedStringified", #notExpected)))
#define CRAYG_CHECK_GREATER_OR_EQUALS_IMPL(actual, expected) CRAYG_CHECK_OR_THROW((actual >= expected), fmt::format("Expected {} to be greater or equals than {}, was!", #actual, expected, actual))
#define CRAYG_CHECK_GREATER_OR_EQUALS_IMPL_F(actual, expected, formatStr, ...) CRAYG_CHECK_OR_THROW((actual >= expected), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual, expected", actual, expected), fmt::arg("actual, expectedStringified", #actual, expected)))
#define CRAYG_CHECK_GREATER_THAN_IMPL(actual, expected) CRAYG_CHECK_OR_THROW((actual > expected), fmt::format("Expected {} to be greater than {}, was {}!", #actual, expected, actual))
#define CRAYG_CHECK_GREATER_THAN_IMPL_F(actual, expected, formatStr, ...) CRAYG_CHECK_OR_THROW((actual > expected), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual, expected", actual, expected), fmt::arg("actual, expectedStringified", #actual, expected)))
#define CRAYG_CHECK_LESS_OR_EQUALS_IMPL(actual, expected) CRAYG_CHECK_OR_THROW((actual <= expected), fmt::format("Expected {} to be less or equals than {}, was!", #actual, expected, actual))
#define CRAYG_CHECK_LESS_OR_EQUALS_IMPL_F(actual, expected, formatStr, ...) CRAYG_CHECK_OR_THROW((actual <= expected), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual, expected", actual, expected), fmt::arg("actual, expectedStringified", #actual, expected)))
#define CRAYG_CHECK_LESS_THAN_IMPL(actual, expected) CRAYG_CHECK_OR_THROW((actual < expected), fmt::format("Expected {} to be less than {}, was {}!", #actual, expected, actual))
#define CRAYG_CHECK_LESS_THAN_IMPL_F(actual, expected, formatStr, ...) CRAYG_CHECK_OR_THROW((actual < expected), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual, expected", actual, expected), fmt::arg("actual, expectedStringified", #actual, expected)))
#define CRAYG_CHECK_WITHIN_RANGE_INCLUSIVE_IMPL(actual, min, max) CRAYG_CHECK_OR_THROW((actual >= min && actual <= max), fmt::format("Expected {} to be in interval [{},{}], value was {}!", #actual, min, max, actual))
#define CRAYG_CHECK_WITHIN_RANGE_INCLUSIVE_IMPL_F(actual, min, max, formatStr, ...) CRAYG_CHECK_OR_THROW((actual >= min && actual <= max), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual, min, max", actual, min, max), fmt::arg("actual, min, maxStringified", #actual, min, max)))
#define CRAYG_CHECK_NOT_WITHIN_RANGE_INCLUSIVE_IMPL(actual, min, max) CRAYG_CHECK_OR_THROW((actual < min || actual > max), fmt::format("Expected {} not to be in interval [{},{}], value was {}!", #actual, min, max, actual))
#define CRAYG_CHECK_NOT_WITHIN_RANGE_INCLUSIVE_IMPL_F(actual, min, max, formatStr, ...) CRAYG_CHECK_OR_THROW((actual < min || actual > max), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual, min, max", actual, min, max), fmt::arg("actual, min, maxStringified", #actual, min, max)))
#define CRAYG_CHECK_WITHIN_RANGE_EXCLUSIVE_IMPL(actual, min, max) CRAYG_CHECK_OR_THROW((actual > min && actual < max), fmt::format("Expected {} to be in interval ]{},{}[, was {}!", #actual, min, max, actual))
#define CRAYG_CHECK_WITHIN_RANGE_EXCLUSIVE_IMPL_F(actual, min, max, formatStr, ...) CRAYG_CHECK_OR_THROW((actual > min && actual < max), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual, min, max", actual, min, max), fmt::arg("actual, min, maxStringified", #actual, min, max)))
#define CRAYG_CHECK_NOT_WITHIN_RANGE_EXCLUSIVE_IMPL(actual, min, max) CRAYG_CHECK_OR_THROW((actual <= min || actual >= max), fmt::format("Expected {} not to be in interval ]{},{}[, was {}!", #actual, min, max, actual))
#define CRAYG_CHECK_NOT_WITHIN_RANGE_EXCLUSIVE_IMPL_F(actual, min, max, formatStr, ...) CRAYG_CHECK_OR_THROW((actual <= min || actual >= max), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actual, min, max", actual, min, max), fmt::arg("actual, min, maxStringified", #actual, min, max)))
#define CRAYG_CHECK_IS_NOT_NAN_IMPL(value) CRAYG_CHECK_OR_THROW((!std::isnan(value)), fmt::format("{} should not be NaN!", #value))
#define CRAYG_CHECK_IS_NOT_NAN_IMPL_F(value, formatStr, ...) CRAYG_CHECK_OR_THROW((!std::isnan(value)), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("value", value), fmt::arg("valueStringified", #value)))
#define CRAYG_CHECK_HAS_NO_NAN_IMPL(value) CRAYG_CHECK_OR_THROW((!value.hasNaN()), fmt::format("{} should not have NaN!", #value))
#define CRAYG_CHECK_HAS_NO_NAN_IMPL_F(value, formatStr, ...) CRAYG_CHECK_OR_THROW((!value.hasNaN()), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("value", value), fmt::arg("valueStringified", #value)))
#define CRAYG_CHECK_STATE_IMPL(actualState, expectedState) CRAYG_CHECK_OR_THROW((actualState == expectedState), fmt::format("Expected {} to have state {}, was {}!", #actualState, actualState, expectedState))
#define CRAYG_CHECK_STATE_IMPL_F(actualState, expectedState, formatStr, ...) CRAYG_CHECK_OR_THROW((actualState == expectedState), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("actualState", actualState), fmt::arg("actualStateStringified", #actualState), fmt::arg("expectedState", expectedState), fmt::arg("expectedStateStringified", #expectedState)))
#define CRAYG_CHECK_OPTIONAL_HAS_VALUE_IMPL(optional) CRAYG_CHECK_OR_THROW((optional.has_value()), fmt::format("{} has no value!", #optional))
#define CRAYG_CHECK_OPTIONAL_HAS_VALUE_IMPL_F(optional, formatStr, ...) CRAYG_CHECK_OR_THROW((optional.has_value()), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("optional", optional), fmt::arg("optionalStringified", #optional)))
#define CRAYG_CHECK_IS_NORMALIZED_VECTOR_IMPL(vector) CRAYG_CHECK_OR_THROW((std::fabs((vector).length() - 1) < 0.001f), fmt::format("{} is not unit vector!: {}", #vector, vector))
#define CRAYG_CHECK_IS_NORMALIZED_VECTOR_IMPL_F(vector, formatStr, ...) CRAYG_CHECK_OR_THROW((std::fabs((vector).length() - 1) < 0.001f), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("vector", vector), fmt::arg("vectorStringified", #vector)))
#define CRAYG_CHECK_IS_EMPTY_IMPL(obj) CRAYG_CHECK_OR_THROW(obj.empty(), fmt::format("{} should be empty!", #obj))
#define CRAYG_CHECK_IS_EMPTY_IMPL_F(obj, formatStr, ...) CRAYG_CHECK_OR_THROW(obj.empty(), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("obj", obj), fmt::arg("objStringified", #obj)))
#define CRAYG_CHECK_IS_NOT_EMPTY_IMPL(obj) CRAYG_CHECK_OR_THROW((!obj.empty()), fmt::format("{} should not be empty!", #obj))
#define CRAYG_CHECK_IS_NOT_EMPTY_IMPL_F(obj, formatStr, ...) CRAYG_CHECK_OR_THROW((!obj.empty()), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("obj", obj), fmt::arg("objStringified", #obj)))
#define CRAYG_CHECK_IS_WITHIN_BOUNDS_IMPL(point, bounds) CRAYG_CHECK_OR_THROW((bounds.contains(point)), fmt::format("({},{}) should be contained within bounds [({},{}),({},{})]!", point.x, point.y, bounds.min.x, bounds.min.y,bounds.max.x, bounds.max.y))
#define CRAYG_CHECK_IS_WITHIN_BOUNDS_IMPL_F(point, bounds, formatStr, ...) CRAYG_CHECK_OR_THROW((bounds.contains(point)), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("point", point), fmt::arg("pointStringified", #point), fmt::arg("bounds", bounds), fmt::arg("boundsStringified", #bounds)))
#define CRAYG_CHECK_IS_NOT_WITHIN_BOUNDS_IMPL(point, bounds) CRAYG_CHECK_OR_THROW((!bounds.contains(point)), fmt::format("({},{}) should be contained within bounds [({},{}),({},{})]!", point.x, point.y, bounds.min.x, bounds.min.y,bounds.max.x, bounds.max.y))
#define CRAYG_CHECK_IS_NOT_WITHIN_BOUNDS_IMPL_F(point, bounds, formatStr, ...) CRAYG_CHECK_OR_THROW((!bounds.contains(point)), fmt::format(formatStr __VA_OPT__(,) __VA_ARGS__, fmt::arg("point", point), fmt::arg("pointStringified", #point), fmt::arg("bounds", bounds), fmt::arg("boundsStringified", #bounds)))
// clang-format on
